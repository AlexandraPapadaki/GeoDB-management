--ALEXANDRA PAPADAKI

--A new table "STUDENT_2015_EXC3" was created as a clone of table "STUDENT_15_EXC2", in order to protect the initial data.
CREATE TABLE STUDENT_2015_EXC3 (
  NR NUMBER(3,0), 
	GENDER VARCHAR2(4), 
	NAME VARCHAR2(15), 
	GIVEN_NAME VARCHAR2(24), 
	FIELD VARCHAR2(40), 
	HOBBIES VARCHAR2(41), 
	BODYHEIGHT NUMBER(10,3), 
	COUNTRY_ID NUMBER
);

Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (100,'Ms.','Adisi','Audrey Nana Oye','Geography and Resource Development','Reading, Movies',1.74,6);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (2,'Mr.','Almasri','Husam Aldean','Communications and Computer Engineering','Football, Movies',1.75,12);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (3,'Mr.','Antonoglou','Nikolaos','Rural and Surveying Engineering','Sports, Reading',1.78,7);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (4,'Ms.','Bourou','Stavroula','Rural and Surveying Engineering ','Hiking, Movies',1.75,7);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (5,'Ms.','Chall','Ricarda Cornelia Sabine','Geoecology','Basketball, Computer games',1.87,5);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (6,'Mr.','Eghbali Zarch','Mohammad Javad','Mining Engineering, Mining Exploration','Soccer',1.9,11);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (7,'Mr.','Elmasri','Fathallah','Civil Engineering','Football, Reading',1.68,4);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (8,'Mr.','Falaki','Ardavon','Civil Enginneering',null,null,11);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (9,'Mr.','Fayakun Alif','Teguh','Geodesy and Geomatics Engineering','Football, Movies',1.7,10);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (10,'Mr.','Fogleman','Mark','Geography','Comp Games, TV shows',1.86,20);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (11,'Mr.','Gao','Weixiao','Geography Information System','Movies, Sax, Accordion',1.77,2);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (12,'Mr.','Gharibi','Salar','Civil Engineering and Surveying','Volleyball, Chess, Hiking, Movies',1.86,11);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (13,'Ms.','Gong','Suxia','Geographic Science','Sports, Music, TV show',1.64,2);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (14,'Mr.','Huang','Junming','Remote Sensing Science and Technology','Basketball, Programming',1.81,2);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (15,'Ms.','Ilyas','Warda','Electronic Engineering','Poetry, Kids music',1.75,13);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (16,'Mr.','Kepkar','Ankur Nauso','Electronics Engineering',null,1.97,9);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (17,'Ms.','Kim','Hyejin','Physics','Drawing, collecting kids stuff',1.55,16);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (18,'Mr.','Kir?ly','P?ter','Geo/Earth Sciences','Hiking, Sightseeing, Movies',1.7,8);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (19,'Ms.','Kubacka','Jessica','Geological Sciences','Basketball, Reading, Movies',1.63,5);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (20,'Mr.','Kuramin','Dmitry','Space Geodesy','Snowboarding, Basketball',1.95,15);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (21,'Mr.','Lin','I-Feng','Computer Science','Brazilian Jiu_Jjitsu',1.72,17);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (22,'Mr','Lopez','Sergio','Agricultural Engineering','Snowboarding, Guitar',1.8,1);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (23,'Ms.','Papadaki','Alexandra','Rural and Surveying Engineering','Dancing, Skeeing, Music',1.7,7);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (24,'Mr.','Papapanagiotou','Achillefs','Rural and Surveying Engineering','Video Games, Kung Fu',1.85,7);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (25,'Ms.','Phuetphan','Krongkran','Software Engineering','Badminton, Computer Games',1.6,18);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (26,'Mr.','Raptakis','Giorgos','Rural and Surveying Engineering','Boxing, Diving',1.82,7);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (27,'Mr.','Sayidi','Hamed','Civil Engineering','Literture, Movies, Mountain climbing',1.9,11);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (28,'Mr.','Sibenik','Marko','Geodesy and Geoinformatics','Sports, Badminton, Drums',1.84,3);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (29,'Mr.','Thiel','Segoy','Software system development','Basketball, Movies',1.87,5);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (30,'Mr.','Verykios','Christos','Surveying','Football, Tabletennis, Electric Guitar',1.78,7);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (31,'Ms.','Wang','Yiqing','Geographic Information System','Travelling, Music, TV',1.67,2);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (32,'Ms.','Wendler','Sophie','Geography','Travelling, Lifeguard Saving, Basketball',1.74,5);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (33,'Ms.','Widowati','Tri','Geography','Travelling, Badminton, Hiking',1.63,10);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (34,'Ms.','Yosmaoglu','Serra','Geomatic Engineering','Sailing, Volleyball, Yoga',1.74,19);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (35,'Mr.','Zhang','Zhen','Geographical Information System','several',1.8,2);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (36,'Mr.','Forouharfard','Armin','Civil Engineering-Surveying','Piano, Gymnastics',1.86,11);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (37,'Ms.','Bojarska','Anna','Urban Environmental Sciences','Reading, Travelling',1.66,14);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (38,'Ms.','Landsmann','Paulina','Civil Engineering','Skiing',1.68,14);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (39,'Ms.','Golovko','Daria','Geoinformatics','Cycling, Corresponding',1.72,15);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (40,'Mr.','Kuhlmann','Florian','Geotechnology',null,null,5);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (41,'Ms.','Krupp','Lena','Geography','Guitar, Hiking',1.62,5);
Insert into STUDENT_2015_EXC3 (NR,GENDER,NAME,GIVEN_NAME,FIELD,HOBBIES,BODYHEIGHT,COUNTRY_ID) values (42,'Mr.','Polegubic','Dino','Geodesy and Geoinformatics','Waterpolo, Football',1.97,3);  

select * FROM STUDENT_2015_EXC3;
Update STUDENT_2015_EXC3 set NR=1 where NAME='Adisi';

--a
Alter table STUDENT_2015_EXC3 add constraint check_name check (name is not null and given_name is not null);

--b
Select NR,GENDER from STUDENT_2015_EXC3 where gender<>'Mr.' and gender<>'Ms.';
Update STUDENT_2015_EXC3 set GENDER='Mr.' where NR=22;
Alter table STUDENT_2015_EXC3 add (constraint check_gender check ((gender='Mr.') or (gender='Ms.')));
--This command leads to an error because there is a value "Mr" for GENDER in NR=22.
--The exact place of the error can be found using the command: Select NR,GENDER from STUDENT_2015_EXC3 where gender<>'Mr.' and gender<>'Ms.';
--This error can be fixed by changing this value in the database, by using the command:Update STUDENT_2015_EXC3 set GENDER='Mr.' where NR=22;
--Or by the following command, without validation of the current data: alter STUDENT_2015_EXC3 add (constraint check_gender check ((GENDER='Mr.') or (GENDER='Ms.')) novalidate);

--c
Alter table STUDENT_2015_EXC3 add check (BODYHEIGHT>=1 and BODYHEIGHT<=2.4);


--d
Create table STUDENT_2015_EXC3_S (
    ID_STUDENT NUMBER(3,0) PRIMARY KEY, 
    GENDER VARCHAR2(4) check ((GENDER='Mr.') or (GENDER='Ms.')), 
    NAME VARCHAR2(15) not null, 
    GIVEN_NAME VARCHAR2(24) not null, 
    FIELD VARCHAR2(40), 
    BODYHEIGHT NUMBER(10,3) check (BODYHEIGHT>=1 AND BODYHEIGHT<=2.4));
    
Insert into STUDENT_2015_EXC3_S select NR,GENDER,NAME,GIVEN_NAME,FIELD,BODYHEIGHT from STUDENT_2015_EXC3;
Update STUDENT_2015_EXC3_S set ID_STUDENT=1 where NAME='Adisi';

--Tables HOBBY_S and STUDHOB_S
Create table HOBBY_S (
ID_HOBBY NUMBER(3),
HOBBY VARCHAR2(30)
);
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (1,'READING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (2,'MOVIES');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (3,'FOOTBALL');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (4,'SPORTS');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (5,'HIKING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (6,'BASKETBALL');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (7,'COMPUTER GAMES');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (8,'TV SHOWS');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (9,'SAX');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (10,'ACCORDION');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (11,'VOLLEYBALL');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (12,'CHESS');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (13,'MUSIC');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (14,'PROGRAMMING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (15,'POETRY');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (16,'KIDS MUSIC');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (17,'DRAWING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (18,'COLLECTING KIDS STUFF');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (19,'SIGHTSEEING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (20,'SNOWBOARDING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (21,'BRAZILIAN JIU JITSU');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (22,'GUITAR');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (23,'DANCING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (24,'SKIING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (25,'KUNG FU');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (26,'BADMINTON');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (27,'BOXING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (28,'DIVING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (29,'LITERATURE');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (30,'DRUMS');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (31,'TABLE TENNIS');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (32,'ELECRTIC GUITAR');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (33,'TRAVELLING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (34,'TV');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (35,'LIFEGUARD SAVING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (36,'SAILING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (37,'YOGA');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (38,'SEVERAL');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (39,'PIANO');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (40,'GYMNASTICS');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (41,'CYCLING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (42,'CORRESPONDING');
Insert into HOBBY_S (ID_HOBBY,HOBBY) values (43,'WATERPOLO');

Alter table HOBBY_S add constraint FK1 primary key (ID_HOBBY);

Create table STUDHOB_S (
HOBBY_ID NUMBER(3),
STUDENT_ID NUMBER(3)
);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (1,1);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (1,3);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (1,7);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (1,19);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (1,37);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (2,1);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (2,2);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (2,4);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (2,9);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (2,11);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (2,12);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (2,18);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (2,19);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (2,27);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (2,29);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (3,2);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (3,6);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (3,7);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (3,9);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (3,30);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (3,42);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (4,3);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (4,13);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (4,28);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (5,4);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (5,12);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (5,18);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (5,27);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (5,33);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (5,41);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (6,5);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (6,14);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (6,19);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (6,20);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (6,29);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (6,32);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (7,5);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (7,10);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (7,24);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (7,25);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (8,10);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (8,13);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (9,11);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (10,11);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (11,12);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (11,34);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (12,12);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (13,13);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (13,23);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (13,31);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (14,14);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (15,15);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (16,15);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (17,17);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (18,17);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (19,18);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (20,20);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (20,22);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (21,21);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (22,22);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (22,41);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (23,23);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (24,23);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (24,38);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (25,24);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (26,25);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (26,28);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (26,33);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (27,26);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (28,26);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (29,27);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (30,28);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (31,30);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (32,30);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (33,31);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (33,32);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (33,33);
Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (33,37);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (34,31);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (35,32);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (36,34);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (37,34);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (38,35);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (39,36);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (40,36);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (41,39);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (42,39);

Insert into STUDHOB_S (HOBBY_ID,STUDENT_ID) values (43,42);

Alter table STUDHOB_S add constraint FK2
   foreign key (HOBBY_ID)
   references HOBBY_S (ID_HOBBY);
Alter table STUDHOB_S add constraint FK3
   foreign key (STUDENT_ID)
   references STUDENT_2015_EXC3_S (ID_STUDENT); 
--DROP TABLE STUDENT_2015_EXC3;

--Table COUNTRY_S
Create table COUNTRY_S (
STUDENT_ID NUMBER(3),
COUNTRY_ID NUMBER(3),
foreign key (STUDENT_ID) references STUDENT_2015_EXC3_S (ID_STUDENT)
);

Insert into COUNTRY_S(STUDENT_ID) select ID_STUDENT from STUDENT_2015_EXC3_S;

Update COUNTRY_S set COUNTRY_ID=(select COUNTRY_ID from STUDENT_2015_EXC3 where STUDENT_2015_EXC3.NR=COUNTRY_S.STUDENT_ID); 

Alter table COUNTRY add constraint FK4 primary key (ID_COUNTRY);

Alter table COUNTRY_S add constraint FK5 foreign key (COUNTRY_ID) references COUNTRY (ID_COUNTRY);


--e
--Table STUDENT_2015_EXC3_S cannot be deleted because it includes a primary key connecting it with tables STUDHOB_S and COUNTRY_S. 
--Consequently, these contraints for the foreign keys should be deleted by using the following commands:
--Alter table COUNTRY_S drop constraint SYS_C0016876;
--Alter table STUDHOB_S drop constraint FK3;
--or a command "on delete Cascade" should be applied. 

--f
Select ID_STUDENT,NAME,GIVEN_NAME from STUDENT_2015_EXC3_S where ID_STUDENT in
(select STUDENT_ID from STUDHOB_S where HOBBY_ID in 
(select ID_HOBBY from HOBBY_S where HOBBY in ('BADMINTON','MUSIC')))
order by GIVEN_NAME;
--The table STUDENT_2015_EXC3_S does not contain a column with Hobbies, so the required ordering can be done only by GIVEN NAMES 